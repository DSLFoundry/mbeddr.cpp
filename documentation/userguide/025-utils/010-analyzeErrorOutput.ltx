\chapter{mbeddr Utilities}

\section{Analyzing Error Output}
\label{analyzeErrorOutput}

As explained earlier, reporting is used to report
failed assertions in tests and other problems with program execution.
Efficiently finding the node that reported a message (eg. a failed assertion) is
important. One way of doing this is the location
string. Here is the default output of a report message:

\begin{lstlisting}[]
./TestHelperTest
$$runningTest: running test () @TestHelperTest:test_testCase1:0#767515563077315487
$$FAILED: ***FAILED*** (testID=0) @TestHelperTest:f:0#9125142491355884683
$$FAILED: ***FAILED*** (testID=1) @TestHelperTest:f:1#9125142491355901742 
\end{lstlisting}

Each message starts of with the \ic{\$\$}. Next is the error message and the
list of message parameters. After the @ sign we the message shows the message
location. The format is \ic{module:content:index}, where the \ic{index} is also
shown in the respective \ic{report} or \ic{assert} statement (the number in
parentheses). Based on this information, the location can be found manually.

However, mbeddr also comes with a tool that simplifies finding the message
source. Using $Analyze \rightarrow mbeddr Analyze Error Output$, arbitrary test
program output can be analyzed. After selecting the menu item, the following
view opens:

\begin{center} 
  \includegraphics[width=11cm]{figures/core/analyzeErrorOutput1.png}
\end{center}

You can then paste arbitrary text that contains report messages into the text
area (for example the example above). Pressing the \ic{Analyze} button will find
the nodes that created the messages (using the Node ID; this is the long number
that follows the \ic{\#} in the message location).

\begin{center} 
  \includegraphics[width=11cm]{figures/core/analyzeErrorOutput2.png}
\end{center}

You can then click on the node to select it in the editor (you should play a
bit with the options buttons on the left; in particular the one with the grey
folder (top right) is useful, since it shows the actual error message).

You can update the error output text in the text area at any time; press the
button with the two green arrows to refresh the found nodes on the right.